<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Valentine's Day ‚ù§Ô∏è</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #ff4e8d, #ff9a9e);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

/* Floating Hearts */
.heart {
    position: absolute;
    color: rgba(255,255,255,0.8);
    animation: floatUp linear forwards;
}

@keyframes floatUp {
    0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
}

/* Card */
.card-container {
    perspective: 1000px;
}

.card {
    width: 350px;
    height: 460px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1s;
}

.card.open {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 15px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 20px;
    box-sizing: border-box;
}

.front {
    background: white;
    color: #e91e63;
    cursor: pointer;
}

.back {
    background: #fff0f5;
    transform: rotateY(180deg);
    text-align: center;
}

.back h2 {
    color: #d81b60;
}

input {
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
    margin-top: 10px;
    width: 80%;
}

button {
    padding: 8px 15px;
    border: none;
    background: #e91e63;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background: #c2185b;
}

.share-btn {
    background: #ff4081;
}
</style>
</head>

<body>

<div class="card-container">
    <div class="card" id="card">
        <div class="card-face front" id="cardFront">
            <h2>‚ù§Ô∏è Tap to Open ‚ù§Ô∏è</h2>
            <p>Someone loves you...</p>
        </div>

        <div class="card-face back">
            <h2 id="message">Happy Valentine's Day!</h2>
            <p>
                You are my today and all of my tomorrows. üíï  
                Every moment with you is magical.
            </p>

            <input type="text" id="nameInput" placeholder="Enter your love's name" onclick="event.stopPropagation()">
            <button id="personalizeBtn">Personalize</button>

            <button class="share-btn" id="shareBtn">
                üíå Share This Card
            </button>
        </div>
    </div>
</div>

<!-- Romantic Background Music -->
<audio id="bgMusic" loop preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/02/23/audio_115b9c1f14.mp3?filename=romantic-love-114627.mp3" type="audio/mpeg">
</audio>

<script>
const card = document.getElementById("card");
const cardFront = document.getElementById("cardFront");
const personalizeBtn = document.getElementById("personalizeBtn");
const shareBtn = document.getElementById("shareBtn");
const nameInput = document.getElementById("nameInput");
const message = document.getElementById("message");
const music = document.getElementById("bgMusic");

let opened = false;

/* Open card ONLY when clicking front */
cardFront.addEventListener("click", () => {
    card.classList.add("open");

    if (!opened) {
        // Fade-in music
        music.volume = 0;
        music.play().then(() => {
            let fade = setInterval(() => {
                if (music.volume < 0.4) {
                    music.volume += 0.02;
                } else {
                    clearInterval(fade);
                }
            }, 200);
        }).catch(() => {}); // ignore autoplay errors
        opened = true;
    }
});

/* Prevent flipping when clicking inside back */
card.querySelector(".back").addEventListener("click", (e) => {
    e.stopPropagation();
});

/* Personalize */
personalizeBtn.addEventListener("click", () => {
    const name = nameInput.value.trim();
    if (name !== "") {
        message.innerText = `Happy Valentine's Day, ${name} ‚ù§Ô∏è`;
    }
});

/* Share */
shareBtn.addEventListener("click", () => {
    if (navigator.share) {
        navigator.share({
            title: "Happy Valentine's Day ‚ù§Ô∏è",
            text: "I made this special Valentine card for you üíï",
            url: window.location.href
        });
    } else {
        navigator.clipboard.writeText(window.location.href);
        alert("Link copied! Send it to your love ‚ù§Ô∏è");
    }
});

/* Floating Hearts */
function createHearts() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "‚ù§";

    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (Math.random() * 20 + 10) + "px";
    heart.style.animationDuration = (Math.random() * 3 + 3) + "s";

    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 6000);
}

setInterval(createHearts, 400);
</script>

</body>
</html>
